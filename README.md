# NPolygonCoordinates

This is a C-based tool that calculates the coordinates of vertices for a regular n-sided polygon inscribed in a unit circle (radius = 1) and analyzes summation errors due to floating-point precision. It compares different summation methods (naive, ordered, and pairwise heap) to assess their accuracy when the polygon's vector sum should theoretically close at the starting point.

## Installation

### Prerequisites
- **GCC**: A C compiler (e.g., `gcc`) is required to build the project.
- **GNU Make**: Used to automate compilation.
- **GNUPlot**: Required to generate plots from the output data (ensure it's installed, e.g., `sudo apt install gnuplot` on Debian-based systems).
- **LaTeX**: Needed to compile the report PDF (e.g., `sudo apt install texlive-full` on Debian-based systems).
- **Math Library**: The `-lm` flag links the math library, which is standard on most systems.

No additional external packages beyond these common tools are required.

### Build Instructions
1. Clone or download the project repository.
2. Navigate to the project root directory.
3. Run the following command to compile the program and generate the report:
   ```
   make
   ```
   This will:
   - Compile the source files into an executable named `main`.
   - Run the program with default parameters (`n_min=10, n_max=3000, step=100`).
   - Generate data files and plots in the `doc/` directory.
   - Compile `report.tex` into `report.pdf`.

4. To clean up compiled files and leave only source files:
   ```
   make clean
   ```

## Usage

### Running the Program
After building with `make`, the program runs automatically with default parameters. To run it manually with custom inputs:
1. Execute the compiled binary:
   ```
   ./main
   ```
2. Enter the following when prompted:
   - Minimum number of vertices (`n_min`): e.g., `10`
   - Maximum number of vertices (`n_max`): e.g., `3000`
   - Step size (`step`): e.g., `100`

### Example
```
$ ./main
Enter the minimum number of vertices (n_min): 10
Enter the maximum number of vertices (n_max): 3000
Enter the iteration step: 100

Processing n = 10
For n = 10:
  H2 error: 0.000000000000013
  H3 error: 0.000000000000015
  H4 error: 0.000000000000014
...
'doc/global_errors.png' chart generated.
'doc/global_sorted_x.png' chart generated.
'doc/global_error_ratios.png' chart generated.
'doc/global_error_differences.png' chart generated.
Process completed.
```

The program outputs error norms for each summation method (H2, H3, H4) and generates plots in the `doc/` directory.

## Key Features
- **Vertex Calculation**: Computes coordinates of an n-gon using vector rotations starting from (1,0).
- **Summation Methods**:
  - **H2**: Naive summation of vector components.
  - **H3**: Ordered summation after sorting positive and negative components.
  - **H4**: Pairwise heap-based summation for improved precision.
- **Error Analysis**: Measures and compares the norm of summation errors against the expected zero sum.
- **Visualization**: Generates logarithmic-scale plots using GNUPlot to illustrate error trends.
- **Report Generation**: Produces a LaTeX-based PDF report summarizing findings.

## Folder Structure
- **`src/`**: Contains source code files.
  - `main.c`: Main program logic, input handling, and plot generation.
  - `functions.c`: Implementation of vector rotation, sorting, and heap-based summation.
  - `functions.h`: Header file with function declarations and vector struct definition.
- **`doc/`**: Holds documentation and output files.
  - `report.tex`: LaTeX source for the analysis report.
  - `global_*.dat`: Data files generated during execution (e.g., `global_errors.dat`).
  - `global_*.png`: Plots generated by GNUPlot (e.g., `global_errors.png`).
  - `report.pdf`: Compiled report (after `make`).
- **`Makefile`**: Automates building, running, and cleaning the project.

## Background
This project was developed to study the impact of floating-point precision on numerical summation, particularly when the expected sum is near zero, as in a closed polygon. It explores how different summation strategies mitigate rounding errors, providing insights into numerical stability in computational geometry. The analysis is detailed in the accompanying report, which serves as both documentation and a research summary.
